(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{205:function(e,t,a){e.exports=a(346)},210:function(e,t,a){},211:function(e,t,a){},222:function(e,t,a){},346:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(19),c=a.n(o),i=(a(210),a(28)),l=a(29),s=a(31),u=a(30),m=a(32),h=(a(211),a(348)),d=(0,a(26).createBrowserHistory)(),p=a(60),f=a(58),g=a.n(f),v=a(57),b=a.n(v),w=a(24),y=a.n(w),E=a(47),S=a.n(E),C=a(23),j=a.n(C),N=a(36),O=a.n(N),k=a(45),A=a.n(k),x=a(46),W=a.n(x),M=a(8),q=a.n(M),U=a(48),I=a.n(U),L=a(49),T=a(25),B=a.n(T),D=(a(222),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t;a.setState((t={},Object(p.a)(t,e.target.name,e.target.value),Object(p.a)(t,"errorMessage",""),t))},a.handleSubmit=function(e){if(e.preventDefault(),"Select School Name"!==a.state.schoolName){var t=a.state,n=t.name,r=t.email,o=t.password,c=t.contact,i=t.type,l=t.schoolName,s=l.replace(/ /g,"_");n=n.toLowerCase();var u=c.split("");u.splice(0,2,"+"),c=u.join(""),B.a.auth().createUserWithEmailAndPassword(r,o).then(function(e){a.setState({errorMessage:"Successfully Created Acount"});var t=e.user.uid;B.a.database().ref("AllSchools/".concat(t)).set({schoolName:s,uid:t}).then(function(){B.a.database().ref("/UserName/"+n).set({email:r,uid:t}).then(function(){B.a.database().ref("/UserContact/"+c).set({email:r,uid:t}).then(function(){B.a.database().ref("".concat(l,"/UserData/").concat(t)).set({username:n,email:r,password:o,contact:c,type:i,user_id:t}),a.setState({name:"",email:"",password:"",contact:"",type:"",schoolName:"Select School Name"})}).catch(function(e){return a.setState({errorMessage:e.message})})}).catch(function(e){return a.setState({errorMessage:e.message})})}).catch(function(e){return a.setState({errorMessage:e.message})})}).catch(function(e){return a.setState({errorMessage:e.message})})}},a.handleSchoolCheck=function(e){var t=a.state.SchoolCheckArray;t.push(e),a.setState({SchoolCheckArray:t})},a.state={loader:!1,name:"",email:"",password:"",contact:"",type:"",open:!1,schoolName:"Select School Name",errorMessage:"",valueArray:[],SchoolCheckArray:[]},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;B.a.database().ref("AllSchoolNames").on("value",function(t){var a=t.val();if(a){var n=Object.values(a);e.setState({valueArray:n})}})}},{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement("main",{className:t.main},r.a.createElement("main",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(b.a,null),r.a.createElement(A.a,{className:t.paper},r.a.createElement(W.a,{component:"h1",variant:"h5"},"Sign Up"),r.a.createElement("form",{className:t.form,onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement(y.a,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(O.a,{htmlFor:"name"},"User Name:"),r.a.createElement(j.a,{name:"name",type:"name",id:"name",autoComplete:"current-password",value:this.state.name,onChange:function(t){return e.handleChange(t)},required:!0})),r.a.createElement(y.a,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(O.a,{htmlFor:"email"},"Email Address:"),r.a.createElement(j.a,{id:"email",name:"email",autoComplete:"email",value:this.state.email,onChange:function(t){return e.handleChange(t)},required:!0})),r.a.createElement(y.a,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(O.a,{htmlFor:"password"},"Password:"),r.a.createElement(j.a,{name:"password",type:"password",id:"password",autoComplete:"current-password",value:this.state.password,onChange:function(t){return e.handleChange(t)},required:!0})),r.a.createElement(y.a,null,r.a.createElement(L.b,{onChange:function(t){return e.handleChange(t)},value:this.state.type,name:"type",required:!0},r.a.createElement(S.a,{value:"Parent",control:r.a.createElement(I.a,null),label:"Parent"}),r.a.createElement(S.a,{value:"Teacher",control:r.a.createElement(I.a,null),label:"Teacher"}))),r.a.createElement(y.a,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(O.a,{htmlFor:"contact"},"Contact No:"),r.a.createElement(j.a,{name:"contact",type:"text",placeholder:"+44....",id:"contact",autoComplete:"current-password",value:this.state.contact,onChange:function(t){1===e.state.contact.length||0===e.state.contact.length?e.setState({contact:48===t.target.value.charCodeAt(e.state.contact.length)?t.target.value:e.state.contact}):e.setState({contact:isNaN(t.target.value)?e.state.contact:t.target.value})},required:!0})),r.a.createElement(y.a,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(L.c,{value:this.state.schoolName,onChange:function(t){return e.handleChange(t)},name:"schoolName"},r.a.createElement(L.a,{value:"Select School Name",selected:!0},"Select School Name"),this.state.valueArray.length?this.state.valueArray.map(function(e,t){return r.a.createElement(L.a,{key:t,lebel:e.SchoolName,value:e.SchoolName},e.SchoolName)}):"")),r.a.createElement(g.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit},"Sign Up")),r.a.createElement("div",null,r.a.createElement("p",{style:{color:"Successfully Created Acount"===this.state.errorMessage?"green":"red"}},this.state.errorMessage)))))}}]),t}(n.Component)),F=q()(function(e){return{main:Object(p.a)({width:"auto",display:"block",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up(400+3*e.spacing.unit*2),{maxWidth:450,width:"95%",marginLeft:"auto",marginRight:"auto"}),paper:{width:"95%",maxWidth:450,marginTop:8*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(2*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px"),position:"absolute",backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],outline:"none"},avatar:{margin:e.spacing.unit,backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing.unit}}})(D),P=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"NotFound "))}}]),t}(n.Component),R=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(h.b,{history:d},r.a.createElement(h.c,null,r.a.createElement(h.a,{exact:!0,path:"/",component:F}),r.a.createElement(h.a,{path:"/SignUp",component:F}),r.a.createElement(h.a,{path:"*",component:P})))}}]),t}(n.Component),z=a(18),J={apiKey:"AIzaSyChkXsgOH2jNe5r7QydJ9Kyu0u7zQ58BCo",authDomain:"safetoschoolsfb-86813.firebaseapp.com",databaseURL:"https://safetoschoolsfb-86813.firebaseio.com",projectId:"safetoschoolsfb-86813",storageBucket:"safetoschoolsfb-86813.appspot.com",messagingSenderId:"255874192584",appId:"1:255874192584:web:35157c3406571442"};B.a.initializeApp(J);var H=Object(z.createMuiTheme)({typography:{useNextVariants:!0}}),K=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(z.MuiThemeProvider,{theme:H},r.a.createElement(R,null))}}]),t}(n.Component),Q=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function _(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}c.a.render(r.a.createElement(K,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");Q?function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):_(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):_(e)})}}()}},[[205,1,2]]]);
//# sourceMappingURL=main.46daefd0.chunk.js.map